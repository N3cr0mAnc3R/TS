<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    <link href="~/Content/Site.css" rel="stylesheet" type="text/css" />
    @*<script src="~/Scripts/modernizr-2.8.3.js"></script>*@
    <script src="~/Scripts/jquery-3.5.1.min.js"></script>
    <script src="~/Content/bootstrap.bundle.js"></script>
    <link href="~/Content/bootstrap.css" rel="stylesheet" />
    <script src="~/Content/vue.min.js"></script>
    @*<script src="~/Content/vue.js"></script>*@
    <script src="~/Content/loader.js"></script>
</head>
<body>
    @Html.Partial("~/Views/Shared/Notifier.cshtml")
    <nav @*class="navbar navbar-expand-lg navbar-light bg-light"*@ class="navbar-system">
        <div class="container" id="navigation">
            <div class="base-nav">
                <a class="navbar-brand" href="@Url.Action("waiting", "user")"><span id="nav-1" class="d-none d-lg-block">{{switchLocal(1)}}</span></a>
                @*<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>*@
                <button class="navbar-toggler" v-on:click="toggleMenu()">
                    <span class="navbar-icon">
                        <svg aria-hidden="true" width="25px" focusable="false" data-prefix="far" data-icon="bars" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-bars fa-w-14"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class=""></path></svg>
                    </span>
                </button>

                <div class="navbar-collapse1" id="navbarSupportedContent">
                    @if (Request.IsAuthenticated)
                    {
                        <ul class="navbar-nav mr-auto">
                            <li class="nav-item" id="nav-url-1" v-if="needShow1">
                                <a href="/auditory/list" class="nav-link"><span>{{switchLocal(5)}}</span></a>
                                @*@Html.ActionLink("Список аудиторий", "list", "auditory", null, new { id = "nav-5", @class = "nav-link" })*@
                            </li>
                            <li class="nav-item" id="nav-url-2" v-if="needShow2">
                                <a href="/verification/list" class="nav-link"><span>{{switchLocal(6)}}</span></a>
                                @*@Html.ActionLink("Проверка ВИ", "list", "verification", null, new { id = "nav-6", @class = "nav-link" })*@
                            </li>
                            <li class="nav-item" id="nav-url-3" v-if="needShow3">
                                <a href="/statistic/index" class="nav-link"><span>{{switchLocal(12)}}</span></a>
                                @*@Html.ActionLink("Отчёты", "index", "statistic", null, new { id = "nav-12", @class = "nav-link" })*@
                            </li>

                            @if (!Request.IsAuthenticated)
                            {
                                <li class="nav-item hidden-full" id="nav-url-2">
                                    <a class="nav-link" href="/account/login" tabindex="-1" id="nav-2">{{switchLocal(2)}}</a>
                                </li>

                            }
                            else
                            {
                                <li class="nav-item hidden-full" id="nav-url-2">
                                    <a class="nav-link" href="/account/logout" tabindex="-1" id="nav-3">{{switchLocal(3)}}</a>
                                </li>
                            }
                        </ul>
                    }

                </div>
            </div>
            <div class="nav-item">
                @if (!Request.IsAuthenticated)
                {
                    <a class="nav-link" href="/account/login" tabindex="-1" id="nav-2">{{switchLocal(2)}}</a>
                }
                else
                {
                    <div class="userpic d-none d-md-block" v-if="hasPhoto">
                        <img src="@Url.Action("userpic", "account")" alt="userpic" />
                    </div>
                    <a class="nav-link d-none d-md-block" href="#" tabindex="-1" id="nav-11" onclick="logout()">{{switchLocal(3)}}</a>
                }
            </div>
            <div class="localization-wrapper"><div class="localization-item" id="litem-1" v-on:click="setLocalization(1)">Ru</div><div id="litem-2" class="localization-item" v-on:click="setLocalization(2)">En</div></div>
        </div>
    </nav>

    <div class="container body-content">
        <div class="loader-wrapper" id="main-loader"><div class="loading"><div class="loading__ring"><svg xmlns="http://www.w3.org/2000/svg" xmlns: xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml: space="preserve"><path d="M85.5,42c-0.2-0.8-0.5-1.7-0.8-2.5c-0.3-0.9-0.7-1.6-1-2.3c-0.3-0.7-0.6-1.3-1-1.9c0.3,0.5,0.5,1.1,0.8,1.7  c0.2,0.7,0.6,1.5,0.8,2.3s0.5,1.7,0.8,2.5c0.8,3.5,1.3,7.5,0.8,12c-0.4,4.3-1.8,9-4.2,13.4c-2.4,4.2-5.9,8.2-10.5,11.2  c-1.1,0.7-2.2,1.5-3.4,2c-0.5,0.2-1.2,0.6-1.8,0.8s-1.3,0.5-1.9,0.8c-2.6,1-5.3,1.7-8.1,1.8l-1.1,0.1L53.8,84c-0.7,0-1.4,0-2.1,0  c-1.4-0.1-2.9-0.1-4.2-0.5c-1.4-0.1-2.8-0.6-4.1-0.8c-1.4-0.5-2.7-0.9-3.9-1.5c-1.2-0.6-2.4-1.2-3.7-1.9c-0.6-0.3-1.2-0.7-1.7-1.1  l-0.8-0.6c-0.3-0.1-0.6-0.4-0.8-0.6l-0.8-0.6L31.3,76l-0.2-0.2L31,75.7l-0.1-0.1l0,0l-1.5-1.5c-1.2-1-1.9-2.1-2.7-3.1  c-0.4-0.4-0.7-1.1-1.1-1.7l-1.1-1.7c-0.3-0.6-0.6-1.2-0.9-1.8c-0.2-0.5-0.6-1.2-0.8-1.8c-0.4-1.2-1-2.4-1.2-3.7  c-0.2-0.6-0.4-1.2-0.5-1.9c-0.1-0.6-0.2-1.2-0.3-1.8c-0.3-1.2-0.3-2.4-0.4-3.7c-0.1-1.2,0-2.5,0.1-3.7c0.2-1.2,0.3-2.4,0.6-3.5  c0.1-0.6,0.3-1.1,0.4-1.7l0.1-0.8l0.3-0.8c1.5-4.3,3.8-8,6.5-11c0.8-0.8,1.4-1.5,2.1-2.1c0.9-0.9,1.4-1.3,2.2-1.8  c1.4-1.2,2.9-2,4.3-2.8c2.8-1.5,5.5-2.3,7.7-2.8s4-0.7,5.2-0.6c0.6-0.1,1.1,0,1.4,0s0.4,0,0.4,0h0.1c2.7,0.1,5-2.2,5-5  c0.1-2.7-2.2-5-5-5c-0.2,0-0.2,0-0.3,0c0,0-0.2,0.1-0.6,0.1c-0.4,0-1,0-1.8,0.1c-1.6,0.1-4,0.4-6.9,1.2c-2.9,0.8-6.4,2-9.9,4.1  c-1.8,1-3.6,2.3-5.4,3.8C26,21.4,25,22.2,24.4,23c-0.2,0.2-0.4,0.4-0.6,0.6c-0.2,0.2-0.5,0.4-0.6,0.7c-0.5,0.4-0.8,0.9-1.3,1.4  c-3.2,3.9-5.9,8.8-7.5,14.3l-0.3,1l-0.2,1.1c-0.1,0.7-0.3,1.4-0.4,2.1c-0.3,1.5-0.4,2.9-0.5,4.5c0,1.5-0.1,3,0.1,4.5  c0.2,1.5,0.2,3,0.6,4.6c0.1,0.7,0.3,1.5,0.4,2.3c0.2,0.8,0.5,1.5,0.7,2.3c0.4,1.6,1.1,3,1.7,4.4c0.3,0.7,0.7,1.4,1.1,2.1  c0.4,0.8,0.8,1.4,1.2,2.1c0.5,0.7,0.9,1.4,1.4,2s0.9,1.3,1.5,1.9c1.1,1.3,2.2,2.7,3.3,3.5l1.7,1.6c0,0,0.1,0.1,0.1,0.1c0,0,0,0,0,0  c0,0,0,0,0,0l0.1,0.1l0.1,0.1h0.2l0.5,0.4l1,0.7c0.4,0.2,0.6,0.5,1,0.7l1.1,0.6c0.8,0.4,1.4,0.9,2.1,1.2c1.4,0.7,2.9,1.5,4.4,2  c1.5,0.7,3.1,1,4.6,1.5c1.5,0.3,3.1,0.7,4.7,0.8c1.6,0.2,3.1,0.2,4.7,0.2c0.8,0,1.6-0.1,2.4-0.1l1.2-0.1l1.1-0.1  c3.1-0.4,6.1-1.3,8.9-2.4c0.8-0.3,1.4-0.6,2.1-0.9s1.3-0.7,2-1.1c1.3-0.7,2.6-1.7,3.7-2.5c0.5-0.4,1-0.9,1.6-1.3l0.8-0.6l0.2-0.2  c0,0,0.1-0.1,0.1-0.1c0.1-0.1,0,0,0,0v0.1l0.1-0.1l0.4-0.4c0.5-0.5,1-1,1.5-1.5c0.3-0.3,0.5-0.5,0.8-0.8l0.7-0.8  c0.9-1.1,1.8-2.2,2.5-3.3c0.4-0.6,0.7-1.1,1.1-1.7c0.3-0.7,0.6-1.2,0.9-1.8c2.4-4.9,3.5-9.8,3.7-14.4C87.3,49.7,86.6,45.5,85.5,42z"></path></svg></div><div class="loading__ring"><svg xmlns="http://www.w3.org/2000/svg" xmlns: xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve"><path d="M85.5,42c-0.2-0.8-0.5-1.7-0.8-2.5c-0.3-0.9-0.7-1.6-1-2.3c-0.3-0.7-0.6-1.3-1-1.9c0.3,0.5,0.5,1.1,0.8,1.7  c0.2,0.7,0.6,1.5,0.8,2.3s0.5,1.7,0.8,2.5c0.8,3.5,1.3,7.5,0.8,12c-0.4,4.3-1.8,9-4.2,13.4c-2.4,4.2-5.9,8.2-10.5,11.2  c-1.1,0.7-2.2,1.5-3.4,2c-0.5,0.2-1.2,0.6-1.8,0.8s-1.3,0.5-1.9,0.8c-2.6,1-5.3,1.7-8.1,1.8l-1.1,0.1L53.8,84c-0.7,0-1.4,0-2.1,0  c-1.4-0.1-2.9-0.1-4.2-0.5c-1.4-0.1-2.8-0.6-4.1-0.8c-1.4-0.5-2.7-0.9-3.9-1.5c-1.2-0.6-2.4-1.2-3.7-1.9c-0.6-0.3-1.2-0.7-1.7-1.1  l-0.8-0.6c-0.3-0.1-0.6-0.4-0.8-0.6l-0.8-0.6L31.3,76l-0.2-0.2L31,75.7l-0.1-0.1l0,0l-1.5-1.5c-1.2-1-1.9-2.1-2.7-3.1  c-0.4-0.4-0.7-1.1-1.1-1.7l-1.1-1.7c-0.3-0.6-0.6-1.2-0.9-1.8c-0.2-0.5-0.6-1.2-0.8-1.8c-0.4-1.2-1-2.4-1.2-3.7  c-0.2-0.6-0.4-1.2-0.5-1.9c-0.1-0.6-0.2-1.2-0.3-1.8c-0.3-1.2-0.3-2.4-0.4-3.7c-0.1-1.2,0-2.5,0.1-3.7c0.2-1.2,0.3-2.4,0.6-3.5  c0.1-0.6,0.3-1.1,0.4-1.7l0.1-0.8l0.3-0.8c1.5-4.3,3.8-8,6.5-11c0.8-0.8,1.4-1.5,2.1-2.1c0.9-0.9,1.4-1.3,2.2-1.8  c1.4-1.2,2.9-2,4.3-2.8c2.8-1.5,5.5-2.3,7.7-2.8s4-0.7,5.2-0.6c0.6-0.1,1.1,0,1.4,0s0.4,0,0.4,0h0.1c2.7,0.1,5-2.2,5-5  c0.1-2.7-2.2-5-5-5c-0.2,0-0.2,0-0.3,0c0,0-0.2,0.1-0.6,0.1c-0.4,0-1,0-1.8,0.1c-1.6,0.1-4,0.4-6.9,1.2c-2.9,0.8-6.4,2-9.9,4.1  c-1.8,1-3.6,2.3-5.4,3.8C26,21.4,25,22.2,24.4,23c-0.2,0.2-0.4,0.4-0.6,0.6c-0.2,0.2-0.5,0.4-0.6,0.7c-0.5,0.4-0.8,0.9-1.3,1.4  c-3.2,3.9-5.9,8.8-7.5,14.3l-0.3,1l-0.2,1.1c-0.1,0.7-0.3,1.4-0.4,2.1c-0.3,1.5-0.4,2.9-0.5,4.5c0,1.5-0.1,3,0.1,4.5  c0.2,1.5,0.2,3,0.6,4.6c0.1,0.7,0.3,1.5,0.4,2.3c0.2,0.8,0.5,1.5,0.7,2.3c0.4,1.6,1.1,3,1.7,4.4c0.3,0.7,0.7,1.4,1.1,2.1  c0.4,0.8,0.8,1.4,1.2,2.1c0.5,0.7,0.9,1.4,1.4,2s0.9,1.3,1.5,1.9c1.1,1.3,2.2,2.7,3.3,3.5l1.7,1.6c0,0,0.1,0.1,0.1,0.1c0,0,0,0,0,0  c0,0,0,0,0,0l0.1,0.1l0.1,0.1h0.2l0.5,0.4l1,0.7c0.4,0.2,0.6,0.5,1,0.7l1.1,0.6c0.8,0.4,1.4,0.9,2.1,1.2c1.4,0.7,2.9,1.5,4.4,2  c1.5,0.7,3.1,1,4.6,1.5c1.5,0.3,3.1,0.7,4.7,0.8c1.6,0.2,3.1,0.2,4.7,0.2c0.8,0,1.6-0.1,2.4-0.1l1.2-0.1l1.1-0.1  c3.1-0.4,6.1-1.3,8.9-2.4c0.8-0.3,1.4-0.6,2.1-0.9s1.3-0.7,2-1.1c1.3-0.7,2.6-1.7,3.7-2.5c0.5-0.4,1-0.9,1.6-1.3l0.8-0.6l0.2-0.2  c0,0,0.1-0.1,0.1-0.1c0.1-0.1,0,0,0,0v0.1l0.1-0.1l0.4-0.4c0.5-0.5,1-1,1.5-1.5c0.3-0.3,0.5-0.5,0.8-0.8l0.7-0.8  c0.9-1.1,1.8-2.2,2.5-3.3c0.4-0.6,0.7-1.1,1.1-1.7c0.3-0.7,0.6-1.2,0.9-1.8c2.4-4.9,3.5-9.8,3.7-14.4C87.3,49.7,86.6,45.5,85.5,42z"></path></svg></div></div></div>
        <div id="window-without-loader">
            @RenderBody()
        </div>
        <footer>
            <div class="container" id="nav-4"></div>
        </footer>
    </div>
    <script>
        function logout() {
            localStorage.removeItem('placeConfig');
            window.open('/account/logout', '_self');
        }
                //var localApp = { localization: 1 };
                //window.onload = function () {
                //    $.ajax({
                //        type: 'POST',
                //        dataType: 'json',
                //        url: '/account/IsAuthenticated',
                //        success: function (d) {
                //            if (!d) {
                //                //if (localStorage['placeConfig'] && localStorage['placeConfig'].trim() != '') {
                //                //    let flag = true;
                //                //    if (window.location.pathname == '/user/waiting' || window.location.pathname == '/account/login') {
                //                //        flag = false;
                //                //    }
                //                //    if (flag) {
                //                //        //window.open('/user/waiting', '_self');
                //                //    }
                //                //}
                //                //if (window.location.pathname == '/user/waiting' || window.location.pathname == '/account/login') {
                //                //    return;
                //                //}
                //                //if (window.location.pathname == '/') {
                //                //    window.open('/user/waiting', '_self');
                //                //}
                //                //window.open('/user/waiting', '_self');
                //            }
                //            init();
                //            $('#window-without-loader').css('display', 'block');
                //            $('#main-loader').css('display', 'none');
                //        }
                //    });

                //}
                //function toggleMenu() {

                //    $('#navbarSupportedContent').toggleClass('show');
                //}
                //function init() {
                //    GetLocalization();
                //    getLocation();
                //    getCurrentUser();
                //}
                //function getLocation() {
                //    if (window.location.pathname.indexOf('auditory') != -1) {
                //        $('#nav-url-1').addClass('active');
                //    }
                //    if (window.location.pathname.indexOf('verification') != -1) {
                //        $('#nav-url-2').addClass('active');
                //    }
                //}
                //function setLocalization(Type) {
                //    Type = Type == 1 ? 'RU' : 'EN';
                //    $.ajax({
                //        type: 'POST',
                //        dataType: 'json',
                //        url: '/user/SetLocalization?Type=' + Type,
                //        success: function (s) {
                //            //GetLocalization();
                //            location.reload();
                //        }
                //    });
                //}
                //function getCurrentUser() {
                //    $.ajax({
                //        type: 'POST',
                //        dataType: 'json',
                //        url: '/account/GetCurrentUser',
                //        success: function (s) {
                //            console.log(s);
                //            if (s.PictureImage) {
                //                $('#user-image').attr('src', 'data:image/png;base64, ' + s.PictureImage);
                //            }
                //        }
                //    });
                //}
                //function GetLocalization() {
                //    $.ajax({
                //        type: 'POST',
                //        dataType: 'json',
                //        url: '/user/GetLocalization',
                //        success: function (l) {
                //            if (l.Localization == 1) {
                //                if (!$('#litem-1').hasClass('active')) { $('#litem-1').addClass('active'); }
                //                $('#litem-2').removeClass('active');
                //                if (typeof app !== 'undefined') {
                //                    app.localization = 1;
                //                }
                //                else {
                //                    localApp.localization = 1;
                //                }
                //            }
                //            else {
                //                if (!$('#litem-2').hasClass('active')) { $('#litem-2').addClass('active'); }
                //                $('#litem-1').removeClass('active');
                //                if (typeof app !== 'undefined') {
                //                    app.localization = 2;
                //                }
                //                else {
                //                    localApp.localization = 2;
                //                }
                //            }
                //            switchLocal();
                //        }
                //    });
                //}
                //function switchLocal() {
                //    var checking = (typeof app == 'undefined') ? localApp : app;
                //    $('#nav-1').text(checking.localization == 1 ? "Система вступительных испытаний СКФУ" : "NCFU Enrolling System");
                //    $('#nav-2').text(checking.localization == 1 ? "Вход" : "Login");
                //    $('#nav-3').text(checking.localization == 1 ? "Выход" : "Logout");
                //    $('#nav-4').text(checking.localization == 1 ? "Все права защищены, 2020" : "All rights reserved, 2020");
                //    $('#nav-5').text(checking.localization == 1 ? "Список аудиторий" : "Auditory list");
                //    $('#nav-6').text(checking.localization == 1 ? "Проверка ВИ" : "Verification");
                //    $('#nav-7').text(checking.localization == 1 ? "Используйте учетную запись eCampus для входа." : "Enter Your eCampus Login and password");
                //    $('#nav-8').text(checking.localization == 1 ? "Логин" : "UserName");
                //    $('#nav-9').text(checking.localization == 1 ? "Пароль" : "Password");
                //    $('#nav-10').text(checking.localization == 1 ? "Выполнить вход" : "Log in");
                //    $('#nav-11').text(checking.localization == 1 ? "Выход" : "Logout");
                //    $('#nav-12').text(checking.localization == 1 ? "Отчёты" : "Reports");

                //}


    </script>
    <script src="~/Content/mainVue.js"></script>
</body>
</html>